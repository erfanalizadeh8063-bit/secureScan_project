FROM rust:1
WORKDIR /app
COPY Cargo.toml Cargo.lock ./
COPY src ./src
RUN rustup component add rustfmt || true
RUN cargo build
EXPOSE 8080
ENV RUST_LOG=debug
CMD ["/bin/sh","-lc","cargo run"]
